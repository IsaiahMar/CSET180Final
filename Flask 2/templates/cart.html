{% extends 'base.html' %}

{% block body %}

<style>
  .body{
      margin-left: 32%;
      justify-content: center;
      text-align: center;
      max-width: 35%;
  }
  .input_field {
    width: 100%;
    padding: 12px 20px;
    margin: 8px 0;
    display: inline-block;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
    min-width: 100%;
  }

  .input_submit {
    width: 100%;
    background-color: #4CAF50;
    color: white;
    padding: 14px 20px;
    margin: 8px 0;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  .input_submit:hover {
    background-color: #45a049;
  }
</style>

<h1>Shopping Cart</h1>

<div class="shopping-cart">

  <div class="column-labels">
    <label class="product-image">Image</label>
    <label class="product-details">Product</label>
    <label class="product-price">Price</label>
    <label class="product-quantity">Quantity</label>
    <label class="product-removal">Remove</label>
    <label class="product-line-price">Total</label>
  </div>
{% for i in product}
<div class="flex products">
    <ul>
        <li>Item Name: {{ i[1] }}</li>
        <li>Item Description: {{ i[2] }}</li>
        <!-- You can add logic here to display multiple images -->
    
        <li>
          
            {% for image in images %}
                {% if image.product_id == i[0] %}
                    <img src="{{ image.image }}" alt="No images selected">
                {% endif %}
            {% endfor %}
        </li>
        <li>Warranty Period: {{ i[3] }}</li>
        <li>Category: {{ i[4] }}</li>
        <li>
            Sizes:
            <select name="sizes" id="sizes">
                {% for size in sizes %}
                {% if size.product_id == i[0] %}
                <option value="{{ size.size }}">{{ size.size }}</option>
                {% endif %}
                {% endfor %}
            </select>
        </li>
        <li>
            Colors:
            <select name="colors" id="colors">
                {% for color in colors %}
                {% if color.product_id == i[0] %}
                <option value="{{ color.color }}">{{ color.color }}</option>
                {% endif %}
                {% endfor %}
            </select>
        </li>
        <li>Inventory Left: {{ i[5] }}</li>
        <li>Creator {{ i[6] }}</li>
        {% if price %}
        <li>Current Price: {{ price[0] }}</li>
        <li style="color: rgb(42, 170, 42);">Discounted Price: {{ price[1] }}</li>
        <li>Time Remaining: {{ price[3] }}</li>

        {% endif %}
        <form class="cart_button" action="/cart" method="POST">
            <input type="hidden" name="clicked_product_id" value="{{ product.product_id }}">
            <input type="submit" value="Go to Cart" class="go_to_cart">
        </form>        
    </ul>
</div>
{% endblock %}
